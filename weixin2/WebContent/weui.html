<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <title>WeUI</title>
    <link rel="stylesheet" href="/weixin/css/weui.min.css">
    <link rel="stylesheet" href="/weixin/css/demos.css">
    <link rel="stylesheet" href="/weixin/css/jquery-weui.min.css">
    <style>
        .summary {
            padding: 8px;
            text-align: right;
            background-color: white;
        }
        .price {
            font-size: .9em;
            margin-right: 6px;
        }
    </style>
</head>
<body ontouchstart>
<!-- Your Code -->

<header class='demos-header'>
    <h1 class="demos-title">购物车</h1>
</header>

<div class='demos-content-padded'>
      <a href="javascript:;" class="weui-btn weui-btn_primary" id="pb1">只有图片</a>
      <a href="javascript:;" class="weui-btn weui-btn_primary" id="pb2">带说明文案</a>
    </div>

<div class='demos-content-padded'>
    <article class="weui-article">
        <p>这是一个购物车的模板，可以参考这个模板完成你自己的购物车。支持：</p>
        <ul>
            <li>可以加减数量</li>
            <li>可以滑动删除</li>
        </ul>
        <a href="javascript:;" class="weui-btn weui-btn_primary open-popup" data-target="#cart">打开购物车</a>
    </article>
</div>

<div id="cart" class='weui-popup__container popup-bottom'>
    <div class="weui-popup__overlay"></div>
    <div class="weui-popup__modal">
        <div class="toolbar">
            <div class="toolbar-inner">
                <a href="javascript:;" class="picker-button close-popup">关闭</a>
                <h1 class="title">我的购物车</h1>
            </div>
        </div>
        <div class="modal-content">
            <div class="weui-cells">
                <div class="weui-cell weui-cell_swiped">
                    <div class="weui-cell__bd">
                        <div class="weui-cell">
                            <div class="weui-cell__hd"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAMAAABgZ9sFAAAAVFBMVEXx8fHMzMzr6+vn5+fv7+/t7e3d3d2+vr7W1tbHx8eysrKdnZ3p6enk5OTR0dG7u7u3t7ejo6PY2Njh4eHf39/T09PExMSvr6+goKCqqqqnp6e4uLgcLY/OAAAAnklEQVRIx+3RSRLDIAxE0QYhAbGZPNu5/z0zrXHiqiz5W72FqhqtVuuXAl3iOV7iPV/iSsAqZa9BS7YOmMXnNNX4TWGxRMn3R6SxRNgy0bzXOW8EBO8SAClsPdB3psqlvG+Lw7ONXg/pTld52BjgSSkA3PV2OOemjIDcZQWgVvONw60q7sIpR38EnHPSMDQ4MjDjLPozhAkGrVbr/z0ANjAF4AcbXmYAAAAASUVORK5CYII=" alt="" style="width:20px;margin-right:5px;display:block"></div>
                            <div class="weui-cell__bd">
                                <p>清风纸巾12包装</p>
                            </div>
                            <div class="weui-cell__ft">
                                <span class="price">￥24.00</span>
                                <div class="weui-count">
                                    <a class="weui-count__btn weui-count__decrease"></a>
                                    <input class="weui-count__number" type="number" value="1" />
                                    <a class="weui-count__btn weui-count__increase"></a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="weui-cell__ft">
                        <a class="weui-swiped-btn weui-swiped-btn_warn delete-swipeout" href="javascript:">删除</a>
                        <a class="weui-swiped-btn weui-swiped-btn_default close-swipeout" href="javascript:">关闭</a>
                    </div>
                </div>
                <div class="weui-cell weui-cell_swiped">
                    <div class="weui-cell__bd">
                        <div class="weui-cell">
                            <div class="weui-cell__hd"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAMAAABgZ9sFAAAAVFBMVEXx8fHMzMzr6+vn5+fv7+/t7e3d3d2+vr7W1tbHx8eysrKdnZ3p6enk5OTR0dG7u7u3t7ejo6PY2Njh4eHf39/T09PExMSvr6+goKCqqqqnp6e4uLgcLY/OAAAAnklEQVRIx+3RSRLDIAxE0QYhAbGZPNu5/z0zrXHiqiz5W72FqhqtVuuXAl3iOV7iPV/iSsAqZa9BS7YOmMXnNNX4TWGxRMn3R6SxRNgy0bzXOW8EBO8SAClsPdB3psqlvG+Lw7ONXg/pTld52BjgSSkA3PV2OOemjIDcZQWgVvONw60q7sIpR38EnHPSMDQ4MjDjLPozhAkGrVbr/z0ANjAF4AcbXmYAAAAASUVORK5CYII=" alt="" style="width:20px;margin-right:5px;display:block"></div>
                            <div class="weui-cell__bd">
                                <p>七匹狼男士长筒袜</p>
                            </div>
                            <div class="weui-cell__ft">
                                <span class="price">￥35.00</span>
                                <div class="weui-count">
                                    <a class="weui-count__btn weui-count__decrease"></a>
                                    <input class="weui-count__number" type="number" value="1" />
                                    <a class="weui-count__btn weui-count__increase"></a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="weui-cell__ft">
                        <a class="weui-swiped-btn weui-swiped-btn_warn delete-swipeout" href="javascript:">删除</a>
                        <a class="weui-swiped-btn weui-swiped-btn_default close-swipeout" href="javascript:">关闭</a>
                    </div>
                </div>
            </div>
        </div>
        <p class="summary">
            2 件商品, 共计 <strong>123.5</strong> 元
        </p>
    </div>
</div>

<script src="/weixin/js/jquery-2.1.4.js"></script>
<script src="/weixin/js/jquery-weui.min.js"></script>
<script src="/weixin/js/fastclick.js"></script>
<script src="/weixin/js/swiper.js"></script>
<script>
  $(function() {
    FastClick.attach(document.body);
  });
</script>
<script>
    add_delete();
    slider_operate();

    //封装成方法，便于调用
    function add_delete () {
        var MAX = 99, MIN = 1;
        $('.weui-count__decrease').click(function (e) {
            var $input = $(e.currentTarget).parent().find('.weui-count__number');
            console.log($input.val());
            var number = parseInt($input.val() || "0") - 1
            if (number < MIN) number = MIN;
            $input.val(number)
        });
        $('.weui-count__increase').click(function (e) {
            var $input = $(e.currentTarget).parent().find('.weui-count__number');
            var number = parseInt($input.val() || "0") + 1
            if (number > MAX) number = MAX;
            $input.val(number)
        });
    }

    //封装成方法，便于调用
    function slider_operate () {
        $('.delete-swipeout').click(function () {
            $(this).parents('.weui-cell').remove()
        });
        $('.close-swipeout').click(function () {
            $(this).parents('.weui-cell').swipeout('close')
        });
    }
    
    
    
    
    /* ==================================== */
    
    var pb1 = $.photoBrowser({
        items: [
          "./images/swiper-1.jpg",
          "./images/swiper-2.jpg",
          "./images/swiper-3.jpg",
          "./images/swiper-4.jpg"
        ],

        onSlideChange: function(index) {
          console.log(this, index);
        },

        onOpen: function() {
          console.log("onOpen", this);
        },
        onClose: function() {
          console.log("onClose", this);
        }
      });
      $("#pb1").click(function() {
        pb1.open(2);
      });
      var pb2 = $.photoBrowser({
        items: [
          {
            image: "./images/swiper-1.jpg",
            caption: "尝试 Vue.js 最简单的方法是使用 JSFiddle Hello World 例子。在浏览器新标签页中打开它，跟着我们查看一些基础示例。如果你喜欢用包管理器下载/安装，查看安装教程。"
          },
          {
            image: "./images/swiper-2.jpg",
            caption: "组件（Component）是 Vue.js 最强大的功能之一。"
          },
          {
            image: "./images/swiper-3.jpg",
            caption: "组件可以扩展 HTML 元素，封装可重用的代码"
          },
          {
            image: "./images/swiper-4.jpg",
            caption: "在较高层面上，组件是自定义元素，Vue.js 的编译器为它添加特殊功能。在有些情况下，组件也可以是原生 HTML 元素的形式，以 is 特性扩展。"
          }
        ],
        initIndex: 2
      });
      $("#pb2").click(function() {
        pb2.open();
      });



</script>
</body>
</html>